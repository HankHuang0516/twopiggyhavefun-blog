---
title: "*教學*Arduino WIFI(ESP8266) 初次上手應用"
date: "2001-10-31T16:00:00.000Z"
cover: "/images/posts/12082031214/0.jpg"
tags: ["pixnet","life"]
originalUrl: "https://lolwarden.pixnet.net/blog/posts/12082031214"
---

<div class="pixnet-article prose max-w-none">
<p style="text-align: center;"><strong style="color: #0000ff; text-align: center;"><span style="font-size: 12pt;">Arduino WIFI(ESP8266) 初次上手應用</span></strong></p>
<p style="text-align: center;"><a href="http://lolwarden.pixnet.net/album/photo/5738944"><img loading="lazy" title="WiFi Serial Transceiver Module.jpg" src="/images/posts/12082031214/0.jpg" alt="WiFi Serial Transceiver Module.jpg" width="272" height="204" border="0"></a> &nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><strong>今天要來討論的是最近很親民的"ESP8266"</strong></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">因為便宜的價位，功能也能應用的非常廣，像是"家電監控"、"遠端遙控"、"點對點溝通"、"雲端資料庫"等等</p>
<p style="text-align: center;">其實之前自己就已經玩過這塊，不過每當過一段時間要來玩的時候</p>
<p style="text-align: center;">常常無法與電腦終端機溝通上，不然就是code要重寫，花很多時間，所以這次要來為自己準備"大補帖"!!</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">廢話說完了，這次我們要準備的材料有:</p>
<p style="text-align: center;">--------------------WIFI模組應用材料----------------------</p>
<p style="text-align: center;">軟體:</p>
<p style="text-align: center;">Arduino IDE</p>
<p style="text-align: center;">Realterm(WIN7用終端機)&nbsp;</p>
<p style="text-align: center;">硬體:</p>
<p style="text-align: center;">WIFI數據機 or 手機熱點分享&nbsp;</p>
<p style="text-align: center;">Arduino 板子 (Uno、Nano、Mega、Mini、Yun...都可) *1塊</p>
<p style="text-align: center;">FT232 &nbsp;*1塊</p>
<p style="text-align: center;">ESP8266 &nbsp;(鮑率9600)*1塊</p>
<p style="text-align: center;">--------------------------------------------------------------</p>
<p style="text-align: center;">FT232 長這樣:</p>
<p style="text-align: center;"><a href="http://lolwarden.pixnet.net/album/photo/5741839"><img loading="lazy" title="sku_164970_1.jpg" src="/images/posts/12082031214/1.jpg" alt="sku_164970_1.jpg" width="223" height="223" border="0"></a> &nbsp;</p>
<p style="text-align: center;">其實也有很多種版本，也有人稱"USB轉TTL"...等等<br>但我用的是長的跟上圖一樣，網拍一個賣25元。</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">它有兩大功用:&nbsp;</p>
<p style="text-align: center;">1.是用來燒錄ESP8266內建韌體用的，就是修改鮑率。</p>
<p style="text-align: center;">2.可以隨時用簡單的Realterm(終端機)來測試ESP8266是否正常。(這非常重要，因為常常有人遇到問題就認為ESP826燒壞了!)</p>
<p style="text-align: center;"><br>FT232在本實驗是一大功臣，我當初玩ESP8266時沒有順便買FT232，就玩不起來，因為不知道原廠的鮑率，ESP8266就不會回話，然後也不知道怎下手，弄得自己吃不到魚，卻惹得一身腥。</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">FT232就先介紹到這。馬上來進入正題。</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><span style="font-size: 12pt; color: #000000;"><strong>實驗方法</strong></span></p>
<p style="text-align: center;"><span style="color: #ff6600;">1.先用Realterm(終端機)測試ESP8266是否正常。(如果正常本次實驗就成功80%了~!)</span></p>
<p style="text-align: center;"><span style="color: #ff6600;">2.再用Arduino取代Realterm(終端機)與ESP8266溝通，開內建序列監控室窗進行測試。</span></p>
<p style="text-align: center;"><span style="color: #ff6600;">3.用ThingSpeak當作雲端資料庫，接收Arduino的各項數值。</span></p>
<p style="text-align: center;"><span style="color: #ff6600;">4.完成</span></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><span style="color: #000000;"><strong><span style="font-size: 12pt;">實驗開始</span></strong></span></p>
<p style="text-align: center;"><span style="color: #ff6600;">一.&nbsp;先用Realterm(終端機)測試ESP8266是否正常:</span></p>
<p style="text-align: center;">1.<span style="text-decoration: underline;"><strong><span style="color: #3366ff; text-decoration: underline;"><a href="http://realterm.sourceforge.net/index.html#downloads_Download"><span style="color: #3366ff; text-decoration: underline;">下載Realterm</span></a>&nbsp;</span></strong></span>(點進去按Download)，下載好後安裝，<strong>先不要打開</strong>。</p>
<p style="text-align: center;"><img loading="lazy" title="RealTerm.jpg" src="/images/posts/12082031214/2.jpg" alt="RealTerm.jpg" border="0"></p>
<p style="text-align: center;">2. FT232與ESP8266 照此圖接。(VCC請愛用3.3V，5V會冒煙喔~)</p>
<p style="text-align: center;">&nbsp;<a href="http://lolwarden.pixnet.net/album/photo/5744491"><img loading="lazy" title="7295fe1f-7a38-951b-3248-9bb1ac7e61ea.png" src="/images/posts/12082031214/3.png" alt="7295fe1f-7a38-951b-3248-9bb1ac7e61ea.png" width="350" height="350" border="0"></a></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">3. 接好後，把FT232插進電腦，確保FT232正常運作，先打開電腦裝置管理員，查看是否運作成功，如果有黃色警告標示則是安裝驅動失敗，需要更新驅動軟件。</p>
<p style="text-align: center;">&nbsp;<a href="http://lolwarden.pixnet.net/album/photo/5744791"><img loading="lazy" title="電腦終端機.jpg" src="/images/posts/12082031214/4.jpg" alt="電腦終端機.jpg" width="545" height="396" border="0"></a>&nbsp;&nbsp;</p>
<p style="text-align: center;">4.現在用管理員身分打開RealTerm，勾選Ascii 旁邊打勾。</p>
<p style="text-align: center;"><a href="http://lolwarden.pixnet.net/album/photo/5751979"><img loading="lazy" title="RealTerm1.jpg" src="/images/posts/12082031214/5.jpg" alt="RealTerm1.jpg" width="479" height="340" border="0"></a></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">5.書籤點選Port，更改(1)鮑率為"9600"，更改(2)Port為FT232的USB Port位置，按(3)設置完成。</p>
<p style="text-align: center;"><a href="http://lolwarden.pixnet.net/album/photo/5751982"><img loading="lazy" title="RealTerm2.jpg" src="/images/posts/12082031214/6.jpg" alt="RealTerm2.jpg" width="477" height="339" border="0"></a></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">6.這邊就是見證成敗與否的時刻，(1)勾選CR,LF,CR,LF，(2)輸入AT，大小寫皆可，(3)按SendASCII，(4)看到OK即可。</p>
<p style="text-align: center;">如果是一片空白的話也不要氣餒，再找找看哪個細節出問題。</p>
<p style="text-align: center;"><a href="http://lolwarden.pixnet.net/album/photo/5751985"><img loading="lazy" title="RealTerm3.jpg" src="/images/posts/12082031214/7.jpg" alt="RealTerm3.jpg" width="477" height="332" border="0"></a> &nbsp;</p>
<p style="text-align: center;">7.完成實驗一，代表已經成功80%了，再接再厲!!</p>
<p style="text-align: center;">&nbsp;(如果此階段遇到問題請去留言<span style="color: #ff0000;">19樓</span>看看)</p>
<p style="text-align: center;"><span style="color: #ff6600;">二.再用Arduino取代Realterm(終端機)與ESP8266溝通，開內建序列監控室窗進行測試。</span></p>
<p style="text-align: center;">1.<span style="text-decoration: underline;"><strong><span style="color: #3366ff; text-decoration: underline;"><a href="http://lolwarden.pixnet.net/blog/post/82060758"><span style="color: #3366ff; text-decoration: underline;">點擊進入複製 Code</span></a></span></strong></span></p>
<p style="text-align: center;">2.Arduino與ESP8266照接此電路圖</p>
<p style="text-align: center;"><a href="http://lolwarden.pixnet.net/album/photo/5761684"><img loading="lazy" title="ESP+Arduino.jpg" src="/images/posts/12082031214/8.jpg" alt="ESP+Arduino.jpg" width="496" height="361" border="0"></a> &nbsp;</p>
<p style="text-align: center;">3. Code第二行是設定ESP8266的TX,RX腳位，預設是RX-&gt;4 ; TX-&gt;5 ，使用者自行更改。</p>
<pre style="font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; color: #000000; background-color: #eee; font-size: 12px; border: 1px dashed #999999; line-height: 14px; padding: 5px; overflow: auto; width: 100%;"><code>SoftwareSerial mySerial(4, 5); // RX, TX 直接接ESP8266</code></pre>
<p style="text-align: center;"><span style="color: #000000;">4.開始燒錄(建議把TX,RX拔掉再燒錄，否則會燒錄失敗)，燒好看TX,RX是否插好並打開內建序列監控室窗。</span></p>
<p style="text-align: center;"><span style="color: #000000;">5.輸入AT(小寫at也可)，看到"OK"如下圖，則實驗方法二完成。</span></p>
<p style="text-align: center;"><span style="color: #000000;">(<strong><span style="color: #ff0000;">底下記得選擇NL&amp;CR，AT才會有回應喔!</span></strong> 謝謝網友<span style="text-decoration: underline;">陳建男</span>的補充及建議 2017/06/02 新增)</span></p>
<p style="text-align: center;"><a href="http://lolwarden.pixnet.net/album/photo/5750854"><img loading="lazy" title="Arduino-ESP8266-TEST.jpg" src="/images/posts/12082031214/9.jpg" alt="Arduino-ESP8266-TEST.jpg" width="435" height="302" border="0"></a></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><span style="font-size: 12pt;"><strong><span style="color: #ff0000;">注意:(2015/11/30補充)</span></strong></span></p>
<p style="text-align: center;"><span style="font-size: 10pt;"><span style="color: #ff0000;">ESP8266電源最好外接穩壓晶片，不要用Arduino內建3.3V，電流是不足的，會造成資料傳輸上的Error。</span></span></p>
<p style="text-align: center;"><span style="color: #000000; background-color: #ffffff;"><span style="font-family: arial; letter-spacing: 1px; line-height: 21px;">LD1117AL 3.3v穩壓晶片介紹</span></span></p>
<p style="text-align: center;"><span style="color: #000000; background-color: #ffffff;"><a style="text-decoration: none; color: #ffffff; font-family: arial; letter-spacing: 1px; line-height: 21px; background-color: #efd6b8;" href="https://www.sparkfun.com/datasheets/Components/LD1117V33.pdf" rel="nofollow" target="_blank"><span style="color: #000000; background-color: #ffffff;">https://www.sparkfun.com/datasheets/Components/LD1117V33.pdf</span></a><span style="font-family: arial; letter-spacing: 1px; line-height: 21px;">&nbsp;</span></span></p>
<p style="text-align: center;"><span style="color: #000000; background-color: #ffffff;"><span style="font-family: arial; letter-spacing: 1px; line-height: 21px;">P.3有電路圖參考</span></span></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><span style="color: #ff6600;">三.用ThingSpeak當作雲端資料庫，接收Arduino的各項數值。</span></p>
<p style="text-align: center;">1.<span style="color: #3366ff;"><strong><span style="color: #3366ff;"><a href="http://lolwarden.pixnet.net/blog/post/82061583"><span style="text-decoration: underline;">點擊進入複製 Code</span>&nbsp;</a>&nbsp;<a href="http://lolwarden.pixnet.net/blog/post/182316574"><span style="text-decoration: underline;"><span style="color: #0000ff; text-decoration: underline;">Code2(改進版)</span></span></a></span></strong></span></p>
<p style="text-align: center;">2.更改SSID(WIFI使用者名稱)、PASS(WIFI密碼)</p>
<p style="text-align: center;">3.還有最後1個數據要改(GET) 先不要燒錄，這個數據取得之前要先去<span style="text-decoration: underline; color: #3366ff;"><strong><a href="http://lolwarden.pixnet.net/blog/post/82057317"><span style="color: #3366ff; text-decoration: underline;">申請 ThingSpeak帳戶&nbsp;(點擊進入教學) </span></a></strong></span>。</p>
<p style="text-align: center;">4.教學結束後，到API KEY標籤處 複製 Write API Key :</p>
<p style="text-align: center;">&nbsp;<img loading="lazy" title="ThingSPEAK API.jpg" src="/images/posts/12082031214/10.jpg" alt="ThingSPEAK API.jpg" width="616" height="277" border="0">&nbsp;</p>
<p style="text-align: center;">5. Code第12行&nbsp;</p>
<pre style="font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; color: #000000; background-color: #eee; font-size: 12px; border: 1px dashed #999999; line-height: 14px; padding: 5px; overflow: auto; width: 100%;"><code>String GET = "GET /update?key=MIN085MR4XATH8VD";</code></pre>
<p style="text-align: center;">請把"MIN085MR4XATH8VD"改成自己的&nbsp;Write API。</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">6.改好拔掉ESP8266的TX,RX再進行燒錄。燒好"馬上"插上TX,RX並打開序列監控室窗進行測試，看到以下畫面就成功了。(如果第一行不是SEND: AT 請用力的按下Arduino上的 RST )</p>
<p style="text-align: center;">講解一下:</p>
<p style="text-align: center;">第一行:傳AT給ESP8266看它是不是活的。</p>
<p style="text-align: center;">第二行:接收到ESP8266傳OK，代表它是正常的可以工作。</p>
<p style="text-align: center;">第三行:無意義，單純代表可以開始傳資料給ESP8266。</p>
<p style="text-align: center;">第四行:傳送 WIFI使用者名稱(手機使用者名稱)、WIFI密碼給ESP8266。</p>
<p style="text-align: center;">第五行:接收到ESP8266傳OK，代表成功連接WIFI基地台(或手機)。</p>
<p style="text-align: center;">第六行:傳送&nbsp;連接ThingSpeak網頁IP 的指令給ESP8266</p>
<p style="text-align: center;">第七行:傳送&nbsp;API+數據1+數據2 給ESP8266</p>
<p style="text-align: center;">"數據1與數據2從何而來?" Code 第30行，可以知道我們傳的數據1是5 ; 數據2是9&nbsp;</p>
<pre style="font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; color: #000000; background-color: #eee; font-size: 12px; border: 1px dashed #999999; line-height: 14px; padding: 5px; overflow: auto; width: 100%;"><code>SentOnCloud( String(5), String(9) );<br></code></pre>
<p style="text-align: center;">&nbsp;如果要傳更多種類的數據只要去&nbsp;Code 第44行 ，依樣畫葫蘆 + "&amp;field=3" + X&nbsp;+ "&amp;field=4" + Y&nbsp;+ "&amp;field=5" + Z +.... 即可</p>
<p style="text-align: center;">第八行:接收到ESP8266傳OK，代表傳送成功!</p>
<p style="text-align: center;">接著會開始無線迴圈傳送API+數據1+數據2 給ESP8266。</p>
<p style="text-align: center;">&nbsp;<img loading="lazy" title="Arduino-thingspeak.jpg" src="/images/posts/12082031214/11.jpg" alt="Arduino-thingspeak.jpg" border="0"></p>
<p style="text-align: center;">&nbsp;7.打開ThingSpeak ，看到有數據再跑，右邊的Channel Stats的 Updated有再改變的話就代表成功囉!</p>
<p style="text-align: center;"><br>&nbsp;<a href="http://lolwarden.pixnet.net/album/photo/5748991"><img loading="lazy" title="ThingSPEAK.jpg" src="/images/posts/12082031214/12.jpg" alt="ThingSPEAK.jpg" width="715" height="428" border="0"></a> &nbsp;&nbsp;</p>
<p style="text-align: center;">8. 實驗方法三完成，實驗大成功!</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp; &nbsp;一起來分享自己的數據成果吧~</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp;<strong>2015/12/4 新增--</strong></p>
<p style="padding-left: 30px; text-align: center;"><strong>&nbsp;ESP8266 Datasheet等相關資料</strong> <span style="text-decoration: underline;"><strong><span style="color: #3366ff; text-decoration: underline;"><a href="https://drive.google.com/folderview?id=0B14vRo5EPq12cHhuT2RGU3ROSms&amp;usp=sharing">載點</a></span></strong></span></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><strong>相關應用教學:&nbsp;</strong></p>
<h2 style="margin: 0px; padding: 0px; font-size: 16px; font-weight: normal; color: #777777; font-family: arial; letter-spacing: 1px; text-align: center;"><span style="color: #0000ff;"><a style="text-decoration: none; color: #020202;" href="http://lolwarden.pixnet.net/blog/post/183008551"><span style="color: #0000ff;">*<span style="text-decoration: underline; color: #0000ff;">教學*Arduino WIFI(ESP8266) 入門應用&lt;網頁控制LED&gt;</span></span></a></span></h2>
<h2 style="margin: 0px; padding: 0px; font-size: 16px; font-weight: normal; color: #777777; font-family: arial; letter-spacing: 1px; text-align: center;"><span style="text-decoration: underline; color: #0000ff;"><span style="text-decoration: underline;"><a style="text-decoration: underline; color: #020202;" href="http://lolwarden.pixnet.net/blog/post/83025372"><span style="color: #0000ff; text-decoration: underline;">*教學*Arduino WIFI(ESP8266) Time同步設計</span></a></span></span></h2>
<h2 style="margin: 0px; padding: 0px; font-size: 16px; font-weight: normal; color: #777777; font-family: arial; letter-spacing: 1px; text-align: center;"><span style="text-decoration: underline; color: #0000ff;"><a style="text-decoration: underline; color: #020202;" href="http://lolwarden.pixnet.net/blog/post/202628140" target="_blank"><span style="color: #0000ff; text-decoration: underline;">*情人節DIY*製作情侶專屬音樂盒</span></a></span></h2>
<p style="text-align: center;"><span style="color: #0000ff;">&nbsp;</span></p>
<p style="text-align: center;">&nbsp;</p>
<hr style="margin: 0px; padding: 0px; font-family: 微軟正黑體; font-size: 16px;">
<p style="text-align: center;">&nbsp;</p>
<p style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-stretch: inherit; line-height: inherit; font-family: 微軟正黑體; font-size: 16px; vertical-align: baseline; text-align: center;">&nbsp;</p>
<p style="text-align: center;"><span style="text-decoration: underline;">&nbsp;</span></p>
</div>
